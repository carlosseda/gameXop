<crud-component>
  <!-- <table-filter
    slot='filter'
    url='/api/admin/users'
  /> -->

  <table-component
    slot="table"
    endpoint="/api/admin/menus"
    structure="{
      'headers': [
        {'label': 'Nombre', 'field': 'name'},
        {'label': 'Entorno', 'field': 'environment'},
        {'label': 'Idioma', 'field': 'languageAlias'},
        {'label': 'Fecha de creación', 'field': 'createdAt'},
        {'label': 'Fecha de actualización', 'field': 'updatedAt'}
      ],
      'recordButtons': ['edit', 'remove'],
      'tableButtons': ['filterButton']
    }"/>
  </table-component>

  <form-component
    slot="form"
    endpoint="/api/admin/menus"
    structure="{
      'tabs': [
        {'name': 'general', 'label': 'General'}
      ],
      'inputs': {
        'general': {
          'noLocale': [
            {'name': 'id', 'element':'input', 'type': 'hidden'},
            {'name': 'name', 'element':'input', 'type': 'text', 'label': 'Nombre', 'width': 'one-quarter-width'},
            {'name': 'environment', 'element':'select', 'label': 'Entorno', 'width': 'one-quarter-width', 'options': 
              [
                {'label': 'Administración', 'value': 'admin'},
                {'label': 'Front', 'value': 'front'}
              ]
            },
            {'name': 'private', 'element':'select', 'label': 'Privado', 'width': 'one-quarter-width', 'options': 
              [
                {'label': 'Sí', 'value': 'true'},
                {'label': 'No', 'value': 'false'}
              ]
            }
          ],
          'locale': [
            {'element': 'dependants', 'childs': [
              {
                'label': 'Items de menú',
                'structure': [
                  {'element': 'subform', 'width': 'half-width', 'endpoint': '/api/admin/menu-items', 'structure': 
                    {
                      'tabs': [
                        {'name': 'general', 'label': 'General'}
                      ],
                      'inputs': {
                        'general': {
                          'noLocale': [
                            {'name': 'id', 'element':'input', 'type': 'hidden'},
                            {'name': 'url', 'element':'select', 'label': 'Url', 'width': 'half-width', 'endpoint': '/api/admin/locale-seos/get-urls', 'parent-filter': ['environment', 'languageAlias']},
                            {'name': 'private', 'element':'select', 'label': 'Privado', 'width': 'half-width', 'options': 
                              [
                                {'label': 'Sí', 'value': 'true'},
                                {'label': 'No', 'value': 'false'}
                              ]
                            },
                            {'name': 'title', 'element':'input', 'type': 'text', 'label': 'Título', 'width': 'full-width'},
                            {'name': 'description', 'element':'textarea', 'label': 'Descripción', 'width': 'full-width'}
                          ]
                        }
                      }
                    }
                  },
                  {'element': 'subtable', 'width': 'half-width', 'endpoint': '/api/admin/menu-items', 'structure': 
                    {
                      'headers': [
                        {'label': 'Url', 'field': 'url'}
                      ],
                      'recordButtons': ['edit', 'remove']
                    }
                  }
                ]
              }
            ]}
          ]
        }
      }
    }"
    dependants="[
    {
      'label': 'Items de menú',
      'structure': [
        {'element': 'subform', 'width': 'half-width', 'endpoint': '/api/admin/menu-items', 'structure': 
          {
            'tabs': [
              {'name': 'general', 'label': 'General'}
            ],
            'inputs': {
              'general': {
                'noLocale': [
                  {'name': 'id', 'element':'input', 'type': 'hidden'},
                  {'name': 'url', 'element':'select', 'label': 'Url', 'width': 'half-width', 'endpoint': '/api/admin/locale-seos/get-urls', 'parent-filter': ['environment', 'languageAlias']},
                  {'name': 'private', 'element':'select', 'label': 'Privado', 'width': 'half-width', 'options': 
                    [
                      {'label': 'Sí', 'value': 'true'},
                      {'label': 'No', 'value': 'false'}
                    ]
                  },
                  {'name': 'title', 'element':'input', 'type': 'text', 'label': 'Título', 'width': 'full-width'},
                  {'name': 'description', 'element':'textarea', 'label': 'Descripción', 'width': 'full-width'}
                ]
              }
            }
          }
        },
        {'element': 'subtable', 'width': 'half-width', 'endpoint': '/api/admin/menu-items', 'structure': 
          {
            'headers': [
              {'label': 'Url', 'field': 'url'}
            ],
            'recordButtons': ['edit', 'remove']
          }
        }
      ]
    }
  ]"
  />
  </form-component>
  
</crud-component>
